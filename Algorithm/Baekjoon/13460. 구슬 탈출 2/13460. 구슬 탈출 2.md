## ğŸŒ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ì´

### Baekjoon_13460. êµ¬ìŠ¬ íƒˆì¶œ 2

#### ğŸ“’ë¬¸ì œ

> ìŠ¤íƒ€íŠ¸ë§í¬ì—ì„œ íŒë§¤í•˜ëŠ” ì–´ë¦°ì´ìš© ì¥ë‚œê° ì¤‘ì—ì„œ ê°€ì¥ ì¸ê¸°ê°€ ë§ì€ ì œí’ˆì€ êµ¬ìŠ¬ íƒˆì¶œì´ë‹¤. êµ¬ìŠ¬ íƒˆì¶œì€ ì§ì‚¬ê°í˜• ë³´ë“œì— ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì„ í•˜ë‚˜ì”© ë„£ì€ ë‹¤ìŒ, ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ ë¹¼ë‚´ëŠ” ê²Œì„ì´ë‹¤.
>
> ë³´ë“œì˜ ì„¸ë¡œ í¬ê¸°ëŠ” N, ê°€ë¡œ í¬ê¸°ëŠ” Mì´ê³ , í¸ì˜ìƒ 1Ã—1í¬ê¸°ì˜ ì¹¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆë‹¤. ê°€ì¥ ë°”ê¹¥ í–‰ê³¼ ì—´ì€ ëª¨ë‘ ë§‰í˜€ì ¸ ìˆê³ , ë³´ë“œì—ëŠ” êµ¬ë©ì´ í•˜ë‚˜ ìˆë‹¤. ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì˜ í¬ê¸°ëŠ” ë³´ë“œì—ì„œ 1Ã—1í¬ê¸°ì˜ ì¹¸ì„ ê°€ë“ ì±„ìš°ëŠ” ì‚¬ì´ì¦ˆì´ê³ , ê°ê° í•˜ë‚˜ì”© ë“¤ì–´ê°€ ìˆë‹¤. ê²Œì„ì˜ ëª©í‘œëŠ” ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ì„œ ë¹¼ë‚´ëŠ” ê²ƒì´ë‹¤. ì´ë•Œ, íŒŒë€ êµ¬ìŠ¬ì´ êµ¬ë©ì— ë“¤ì–´ê°€ë©´ ì•ˆ ëœë‹¤.
>
> ì´ë•Œ, êµ¬ìŠ¬ì„ ì†ìœ¼ë¡œ ê±´ë“œë¦´ ìˆ˜ëŠ” ì—†ê³ , ì¤‘ë ¥ì„ ì´ìš©í•´ì„œ ì´ë¦¬ ì €ë¦¬ êµ´ë ¤ì•¼ í•œë‹¤. ì™¼ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°, ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°, ìœ„ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°, ì•„ë˜ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°ì™€ ê°™ì€ ë„¤ ê°€ì§€ ë™ì‘ì´ ê°€ëŠ¥í•˜ë‹¤.
>
> ê°ê°ì˜ ë™ì‘ì—ì„œ ê³µì€ ë™ì‹œì— ì›€ì§ì¸ë‹¤. ë¹¨ê°„ êµ¬ìŠ¬ì´ êµ¬ë©ì— ë¹ ì§€ë©´ ì„±ê³µì´ì§€ë§Œ, íŒŒë€ êµ¬ìŠ¬ì´ êµ¬ë©ì— ë¹ ì§€ë©´ ì‹¤íŒ¨ì´ë‹¤. ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì´ ë™ì‹œì— êµ¬ë©ì— ë¹ ì ¸ë„ ì‹¤íŒ¨ì´ë‹¤. ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì€ ë™ì‹œì— ê°™ì€ ì¹¸ì— ìˆì„ ìˆ˜ ì—†ë‹¤. ë˜, ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì˜ í¬ê¸°ëŠ” í•œ ì¹¸ì„ ëª¨ë‘ ì°¨ì§€í•œë‹¤. ê¸°ìš¸ì´ëŠ” ë™ì‘ì„ ê·¸ë§Œí•˜ëŠ” ê²ƒì€ ë” ì´ìƒ êµ¬ìŠ¬ì´ ì›€ì§ì´ì§€ ì•Šì„ ë•Œ ê¹Œì§€ì´ë‹¤.
>
> ë³´ë“œì˜ ìƒíƒœê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ìµœì†Œ ëª‡ ë²ˆ ë§Œì— ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ ë¹¼ë‚¼ ìˆ˜ ìˆëŠ”ì§€ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.
>
> [<ë¬¸ì œ ì¶œì²˜>](https://www.acmicpc.net/problem/13460)



#### :pushpin: ì…ë ¥ ë° ì¶œë ¥

- ì²« ë²ˆì§¸ ì¤„ì—ëŠ” ë³´ë“œì˜ ì„¸ë¡œ, ê°€ë¡œ í¬ê¸°ë¥¼ ì˜ë¯¸í•˜ëŠ” ë‘ ì •ìˆ˜ N, M (3 â‰¤ N, M â‰¤ 10)ì´ ì£¼ì–´ì§„ë‹¤. ë‹¤ìŒ Nê°œì˜ ì¤„ì— ë³´ë“œì˜ ëª¨ì–‘ì„ ë‚˜íƒ€ë‚´ëŠ” ê¸¸ì´ Mì˜ ë¬¸ìì—´ì´ ì£¼ì–´ì§„ë‹¤. ì´ ë¬¸ìì—´ì€ '`.`', '`#`', '`O`', '`R`', '`B`' ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. '`.`'ì€ ë¹ˆ ì¹¸ì„ ì˜ë¯¸í•˜ê³ , '`#`'ì€ ê³µì´ ì´ë™í•  ìˆ˜ ì—†ëŠ” ì¥ì• ë¬¼ ë˜ëŠ” ë²½ì„ ì˜ë¯¸í•˜ë©°, '`O`'ëŠ” êµ¬ë©ì˜ ìœ„ì¹˜ë¥¼ ì˜ë¯¸í•œë‹¤. '`R`'ì€ ë¹¨ê°„ êµ¬ìŠ¬ì˜ ìœ„ì¹˜, '`B`'ëŠ” íŒŒë€ êµ¬ìŠ¬ì˜ ìœ„ì¹˜ì´ë‹¤.

  ì…ë ¥ë˜ëŠ” ëª¨ë“  ë³´ë“œì˜ ê°€ì¥ìë¦¬ì—ëŠ” ëª¨ë‘ '`#`'ì´ ìˆë‹¤. êµ¬ë©ì˜ ê°œìˆ˜ëŠ” í•œ ê°œ ì´ë©°, ë¹¨ê°„ êµ¬ìŠ¬ê³¼ íŒŒë€ êµ¬ìŠ¬ì€ í•­ìƒ 1ê°œê°€ ì£¼ì–´ì§„ë‹¤.

- ìµœì†Œ ëª‡ ë²ˆ ë§Œì— ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ ë¹¼ë‚¼ ìˆ˜ ìˆëŠ”ì§€ ì¶œë ¥í•œë‹¤. ë§Œì•½, 10ë²ˆ ì´í•˜ë¡œ ì›€ì§ì—¬ì„œ ë¹¨ê°„ êµ¬ìŠ¬ì„ êµ¬ë©ì„ í†µí•´ ë¹¼ë‚¼ ìˆ˜ ì—†ìœ¼ë©´ -1ì„ ì¶œë ¥í•œë‹¤.


---

> ì˜ˆì‹œ

```
input :
5 5
#####
#..B#
#.#.#
#RO.#
#####

output :
1

input :
7 7
#######
#...RB#
#.#####
#.....#
#####.#
#O....#
#######

output :
5

input :
7 7
#######
#..R#B#
#.#####
#.....#
#####.#
#O....#
#######

output :
5

input :
10 10
##########
#R#...##B#
#...#.##.#
#####.##.#
#......#.#
#.######.#
#.#....#.#
#.#.#.#..#
#...#.O#.#
##########

output :
-1
```

----




#### ğŸš€point

1. DFSë¥¼ í™œìš©í•˜ì—¬ ë³´ë“œë¥¼ ê¸°ìš¸ì´ëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ íƒìƒ‰í•œë‹¤
2. ìµœëŒ€í•œ íƒìƒ‰ì„ ì ê²Œ í•  ìˆ˜ ìˆë„ë¡ ì¡°ê±´ì„ ì„¤ì •í•œë‹¤
   1. ê°™ì€ ë°©í–¥ìœ¼ë¡œ ì—°ì†í•´ì„œ ì´ë™í•˜ëŠ” ê²ƒì€ ì˜ë¯¸ X (ex. ì™¼ìª½-ì™¼ìª½ or ì˜¤ë¥¸ìª½-ì˜¤ë¥¸ìª½)
   2. ì™”ë‹¤ê°”ë‹¤ í•˜ëŠ” ê²ƒë„ ì˜ë¯¸ X (ex. ì™¼ìª½-ì˜¤ë¥¸ìª½-ì™¼ìª½ => ì™¼ìª½ ê³¼ ê²°ê³¼ê°€ ê°™ìŒ)
   3. íŠ¹ì • ë°©í–¥ìœ¼ë¡œ ê¸°ìš¸ì˜€ì„ ë•Œ, êµ¬ìŠ¬ë“¤ì— ì›€ì§ì„ì´ ì—†ë‹¤ë©´ ê·¸ ì´í›„ì˜ ê³¼ì •ì€ í•„ìš” X
      1. ì›€ì§ì„ì´ ì—†ëŠ” ë°©í–¥ìœ¼ë¡œ ë³´ë“œë¥¼ ê¸°ìš¸ì´ë©´ ìµœì†Œ íšŸìˆ˜ë¼ëŠ” ë¬¸ì œ ì¡°ê±´ì— ì•ˆë§ìŒ

3. ì–´ë–¤ êµ¬ìŠ¬ì„ ë¨¼ì € ì›€ì§ì¼ ê²ƒì¸ì§€ë„ ì¤‘ìš”
   1. ë§Œì•½, ê°™ì€ ì—´ì´ë‚˜ í–‰ì— ìˆì„ ê²½ìš°, ì›€ì§ì„ì˜ ìˆœì„œê°€ ë§¤ìš° ì¤‘ìš”í•´ì§
   2. ë”°ë¼ì„œ, ë°©í–¥ì— ë”°ë¥¸ ìˆœì„œ ì¡°ê±´ì„ ë”°ë¡œ ì§€ì •





#### ğŸ”í’€ì´

1.  ì…ë ¥ê°’ì„ ë°›ê³ , ë³´ë“œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°°ì—´ì„ ìƒì„±í•œë‹¤
1.  êµ¬ìŠ¬ì˜ ìœ„ì¹˜ì™€ ìƒ‰ìƒì„ ë‚˜íƒ€ë‚´ëŠ” 2ì°¨ì› ë°°ì—´ ì„ ì–¸
    1.  2ì°¨ì›ì˜ ê° ë°°ì—´ì€ [êµ¬ìŠ¬ ìƒ‰ìƒ, í–‰ ìœ„ì¹˜, ì—´ ìœ„ì¹˜]ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤

    1.  êµ¬ìŠ¬ ìƒ‰ìƒì´ 1ì¸ ê²½ìš°ì—ëŠ” íŒŒë‘, 0ì´ë©´ ë¹¨ê°•
    
1.  ì´ˆê¸° êµ¬ìŠ¬ ìœ„ì¹˜ë¥¼ ê°±ì‹ í•˜ê¸° ìœ„í•´ ë³´ë“œ ë°°ì—´ì„ ìˆœíšŒí•˜ë©´ì„œ êµ¬ìŠ¬ì„ ì°¾ëŠ”ë‹¤
1.  ì¬ê·€ë¡œ ëª¨ë“  ê²½ë¡œë¥¼ ì°¾ëŠ” dfs í•¨ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤
    1.  ë§¤ê°œë³€ìˆ˜ëŠ” (ë°©í–¥, ë°©ë¬¸ë°°ì—´, ë°˜ë³µ íšŸìˆ˜, ë¹¨ê°• êµ¬ìŠ¬ì´ êµ¬ë©ì— ë“¤ì–´ê°”ëŠ”ì§€ ì—¬ë¶€, íŒŒë‘ êµ¬ìŠ¬ì´ êµ¬ë©ì— ë“¤ì–´ê°”ëŠ”ì§€ ì—¬ë¶€, êµ¬ìŠ¬ ìœ„ì¹˜ ì •ë³´) ë¥¼ ë°›ëŠ”ë‹¤

    1.  ì¤‘ë‹¨ ì¡°ê±´ì„ ì„¤ì •í•œë‹¤
        1.  ë¹¨ê°• êµ¬ìŠ¬ì´ ë“¤ì–´ê°€ê³ , íŒŒë‘ êµ¬ìŠ¬ì€ ì•„ì§ ë‚¨ì•„ìˆëŠ” ê²½ìš°
            1.  ëª‡íšŒì°¨ì¸ì§€ kë¥¼ í†µí•´ í™•ì¸í•˜ê³ , ê°€ì¥ ìµœì†Ÿê°’ì´ë¼ë©´ ì •ë‹µì„ ë‚˜íƒ€ë‚´ëŠ” ans ë³€ìˆ˜ ê°±ì‹ 
    
        1.  íŒŒë‘êµ¬ìŠ¬ì´ ë“¤ì–´ê°„ ê²½ìš°
            1.  íŒŒë‘ êµ¬ìŠ¬ì´ ë“¤ì–´ê°„ ê²½ìš°ì—ëŠ” ì„±ê³µ ì¡°ê±´ì— ì„±ë¦½ë˜ì§€ ì•ŠìŒ
            1.  ë”°ë¼ì„œ, ì•„ë¬´ ê³¼ì • ì—†ì´ return (í•¨ìˆ˜ ì¢…ë£Œ)
    
        1.  10ë²ˆ ì´ìƒ íƒìƒ‰í•œ ê²½ìš° ì¤‘ë‹¨
    
    1.  ì…ë ¥ëœ ë°©í–¥ì— ë§ê²Œ ë³´ë“œë¥¼ ê¸°ìš¸ì´ëŠ” ë¡œì§ì„ êµ¬í˜„í•œë‹¤
        1.  ë°©í–¥ì— ë”°ë¼ êµ¬ìŠ¬ ë°°ì—´ì„ ì •ë ¬í•œë‹¤
            1.  ì™¼ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ë©´, ë” ì™¼ìª½ì— ìˆëŠ” êµ¬ìŠ¬ ë¨¼ì €
    
            1.  ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ë©´, ë” ì˜¤ë¥¸ìª½ì— ìˆëŠ” êµ¬ìŠ¬ ë¨¼ì €
    
            1.  ìœ„ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ìœ„,ì•„ë˜ë„ ì§€ì •í•´ì¤€ë‹¤
    
        1.  êµ¬ìŠ¬ì„ ìˆœíšŒí•˜ë©´ì„œ ì´ë™ì‹œí‚¨ë‹¤
            1.  ì´ ë•Œ, êµ¬ìŠ¬ì´ ë‹¤ ìˆœíšŒí•˜ê³  ë‚˜ì„œ ì›ë˜ ìœ„ì¹˜ì™€ ë¹„êµí–ˆì„ ë•Œ, ì•„ë¬´ ë³€í™”ë„ ì—†ë‹¤ë©´ ì´ ì›€ì§ì„ë„ ì˜ë¯¸ ì—†ëŠ” ê²ƒì´ë¯€ë¡œ í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•œë‹¤
                1.  ì´ë¥¼ ìœ„í•´, êµ¬ìŠ¬ ìˆœíšŒ ì „ì— ì›ë˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°°ì—´ì„ ë³µì‚¬í•œë‹¤
    
            1.  êµ¬ìŠ¬ì€ ì´ë™í•˜ë¯€ë¡œ ì›ë˜ ìœ„ì¹˜ëŠ” '.'ìœ¼ë¡œ ê°±ì‹ í•œë‹¤
    
            1.  ë” ì´ìƒ ì›€ì§ì¼ ìˆ˜ ì—†ì„ ë•Œê¹Œì§€ ì£¼ì–´ì§„ ë°©í–¥ìœ¼ë¡œ ì´ë™ì‹œí‚¨ë‹¤.
                1.  ê·¸ëŸ¬ë˜ ë„ì¤‘ì— êµ¬ë©ì„ ë§Œë‚˜ë©´ blue_in í˜¹ì€ red_inì„ ê°±ì‹ ì‹œí‚¨ë‹¤
    
                1.  ë˜í•œ, ì´ëŒ€ë¡œ ë°˜ë³µë¬¸ì„ ì¤‘ë‹¨í•˜ë©´ 2-1 ë¡œì§ìœ¼ë¡œ ì¸í•´, í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ì–´ë²„ë¦°ë‹¤
                    1.  ë”°ë¼ì„œ, í˜„ì¬ ìœ„ì¹˜ë¥¼ ì˜ë¯¸ì—†ëŠ” ê°’ìœ¼ë¡œ ëª¨ë‘ ë°”ê¿”ì¤€ë‹¤
    
                1.  ìµœì¢…ì ìœ¼ë¡œ ë” ì´ìƒ ì›€ì§ì¼ ìˆ˜ ì—†ê²Œë˜ë©´ ìµœê·¼ ìœ„ì¹˜ë¡œ êµ¬ìŠ¬ ì •ë³´ì™€ ë³´ë“œ ë°°ì—´ì„ ê°±ì‹ í•´ì¤€ë‹¤
    
    1.  ì´ë™ í›„, ìœ„ì¹˜ë³€í™”ê°€ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤
        1.  ìˆìœ¼ë©´ ë„˜ì–´ê°€ê³  ì—†ìœ¼ë©´ return
    
    1.  ì´ì œ ë‹¤ìŒ ê¸°ìš¸ì´ê¸°ë¡œ ë„˜ì–´ê°€ê¸° ìœ„í•´ ê¸°ìš¸ì¼ ë°©í–¥ì„ ì„¤ì •í•œë‹¤
        1.  ìµœëŒ€í•œ íƒìƒ‰ì„ ì¤„ì´ê¸° ìœ„í•´ í˜„ì¬ ë°©í–¥ì— ë§ê²Œ ê¸°ìš¸ì¼ ë°©í–¥ì„ ì •í•œë‹¤
    
        1.  ë§Œì•½, í˜„ì¬ ì¢Œìš°ë¡œ ê¸°ìš¸ì˜€ë‹¤ë©´ ë‹¤ìŒì€ ìƒí•˜ë¡œë§Œ ê¸°ìš¸ì¼ ìˆ˜ ìˆë‹¤ [point ë¶€ë¶„ ì°¸ì¡°](#ğŸš€point)
    
    1.  ê·¸ë¦¬ê³  ê¸°ìš¸ì¼ ìˆ˜ ìˆëŠ” ë°©í–¥ë§Œí¼ ë°˜ë³µí•˜ë©´ì„œ í•¨ìˆ˜ë¥¼ ì¬ê·€í˜¸ì¶œí•œë‹¤
        1.  ì´ë•Œ, ë°˜ë³µë¬¸ ë‚´ë¶€ì—ì„œ êµ¬ìŠ¬ ë°°ì—´ì´ë‚˜ ë³´ë“œ ë°°ì—´ì´ ê°±ì‹ ë˜ì§€ ì•Šë„ë¡ ì´ˆê¸°í™”í•˜ëŠ” ë¡œì§ë„ ê°™ì´ ë„£ì–´ì¤€ë‹¤
    
1.  í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œ í›„ ìµœì¢… ê²°ê³¼ì— ë”°ë¥¸ ë‹µì„ ì¶œë ¥í•œë‹¤
    1.  ë§Œì•½, ì´ˆê¸°ê°’ ê·¸ëŒ€ë¡œë¼ë©´ -1ì„ ì•„ë‹ˆë¼ë©´ í•´ë‹¹ê°’ì„ ì¶œë ¥í•œë‹¤.




#### ğŸ’»ì½”ë“œ

```python
from pprint import pprint
import sys
input = sys.stdin.readline

N,M = map(int,input().split())

arr = [list(input().rstrip()) for _ in range(N)]

def dfs(direction,visited,k,red_in,blue_in,balls):
    global ans
	
    # ìˆœì„œ ì¤‘ìš” (kë¶€í„° í™•ì¸í•˜ë©´ ë§ˆì§€ë§‰ì— í™•ì¸ ëª»í•¨)
    if red_in == True and blue_in == False:
        if ans>k:
            ans = k
        return

    if k == 10 or blue_in == True:
        return

    # ë³´ë“œë¥¼ ê¸°ìš¸ì´ëŠ” ê³¼ì •

    # ë¨¼ì € ì´ë™ì‹œí‚¬ êµ¬ìŠ¬ ì„ ì •
    # ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°
    if direction == 0:
        balls.sort(key=lambda x:x[2], reverse=True)
    # ì™¼ìª½ìœ¼ë¡œ ê¸°ìš¸ì´ê¸°
    elif direction == 1:
        balls.sort(key=lambda x:x[2])
    # ì•„ë˜ë¡œ ê¸°ìš¸ì´ê¸°
    elif direction == 2:
        balls.sort(key=lambda x:x[1], reverse=True)
    else:
        balls.sort(key=lambda x:x[1])
	
    # ê¸°ìš¸ì¸ ë°©í–¥ì— ë§ê²Œ êµ¬ìŠ¬ ì˜®ê²¨ì£¼ê¸°
    now = [x[:] for x in balls[:]]
    for b in range(2):
        color,x,y = balls[b]
        visited[x][y] = '.'
        while True:
            nx = x+delta[direction][0]
            ny = y+delta[direction][1]

            if visited[nx][ny] == '.':
                x,y = nx,ny
            elif visited[nx][ny] == 'O':
                if color == 1:
                    blue_in = True
                    # êµ¬ìŠ¬ë“¤ ìœ„ì¹˜ë¥¼ ë°”ê¿”ì¤˜ì•¼, í•¨ìˆ˜ë¥¼ ì¢…ë£Œì‹œí‚¤ì§€ ì•ŠìŒ
                    balls[b] = [-1,-1,-1]
                else:
                    red_in = True
                    balls[b] = [-1,-1,-1]
                break

            else:
                # êµ¬ìŠ¬ ì •ë³´ì™€, ìœ„ì¹˜ ì •ë³´(ë³´ë“œ ì •ë³´) ê°±ì‹ í•´ì£¼ê¸°
                if color==1:
                    visited[x][y] = 'B'
                    balls[b] = [1,x,y]
                else:
                    visited[x][y] = 'R'
                    balls[b] = [0,x,y]
                break

    # êµ¬ìŠ¬ë“¤ ìœ„ì¹˜ê°€ ë°”ë€Œì§€ ì•Šì•˜ë‹¤ë©´
    if now == balls:
        return
	
    # ë‹¤ìŒ íƒìƒ‰ë°©í–¥ ì •í•˜ê¸°
    if direction<2:
        next_dir = [2,3]
    else:
        next_dir = [0,1]
	
    # ê°€ëŠ¥í•œ ë°©í–¥ë“¤ì„ ìˆœíšŒí•˜ë©° dfs í•¨ìˆ˜ ì¬ê·€ í˜¸ì¶œ
    for d in next_dir:
        now_visited = [x[:] for x in visited[:]]
        now_balls = [x[:] for x in balls[:]]
        dfs(d,now_visited,k+1,red_in,blue_in,now_balls)

# balls[i][0]ì´ 0ì´ë©´ red, 1ì´ë©´ blue
origin_balls = [[0,0,0],[1,0,0]]

# êµ¬ìŠ¬ ìœ„ì¹˜ ì¡ê¸°
for i in range(N):
    for j in range(M):
        if arr[i][j] == 'B':
            origin_balls[1] = [1,i,j]
        elif arr[i][j] == 'R':
            origin_balls[0] = [0,i,j]

# ì˜¤ë¥¸ìª½, ì™¼ìª½, ì•„ë˜, ìœ„
delta = [(0,1),(0,-1),(1,0),(-1,0)]
INF = int(1e9)
ans = INF

for d in range(4):
    # dfs í•¨ìˆ˜ë¡œ ì¸í•´ ë³€í•˜ê²Œ ë  ê°’ë“¤ì„ ì´ˆê¸°í™”
    now_balls = [x[:] for x in origin_balls[:]]
    visited = [x[:] for x in arr[:]]
    dfs(d,visited,0,False,False,now_balls)
if ans == INF:
    print(-1)
else:
    print(ans)

```



#### âŒ ë°œìƒ ì˜¤ë¥˜ ë° í•´ê²°

- ì¤‘ë‹¨ ì¡°ê±´ì—ì„œ kê°€ 10ì¼ ë•Œ ì„±ê³µì—¬ë¶€ë¥¼ í™•ì¸í•˜ì§€ ì•Šê³  ë°”ë¡œ ì¤‘ë‹¨í•´ë²„ë¦¼

  
