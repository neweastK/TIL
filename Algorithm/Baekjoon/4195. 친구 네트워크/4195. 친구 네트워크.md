## ğŸŒ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ì´

### Baekjoon_4195. ì¹œêµ¬ ë„¤íŠ¸ì›Œí¬

#### ğŸ“’ë¬¸ì œ

> ë¯¼í˜ì´ëŠ” ì†Œì…œ ë„¤íŠ¸ì›Œí¬ ì‚¬ì´íŠ¸ì—ì„œ ì¹œêµ¬ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ì¢‹ì•„í•˜ëŠ” ì¹œêµ¬ì´ë‹¤. ìš°í‘œë¥¼ ëª¨ìœ¼ëŠ” ì·¨ë¯¸ê°€ ìˆë“¯ì´, ë¯¼í˜ì´ëŠ” ì†Œì…œ ë„¤íŠ¸ì›Œí¬ ì‚¬ì´íŠ¸ì—ì„œ ì¹œêµ¬ë¥¼ ëª¨ìœ¼ëŠ” ê²ƒì´ ì·¨ë¯¸ì´ë‹¤.
>
> ì–´ë–¤ ì‚¬ì´íŠ¸ì˜ ì¹œêµ¬ ê´€ê³„ê°€ ìƒê¸´ ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì¡Œì„ ë•Œ, ë‘ ì‚¬ëŒì˜ ì¹œêµ¬ ë„¤íŠ¸ì›Œí¬ì— ëª‡ ëª…ì´ ìˆëŠ”ì§€ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.
> 
>    ì¹œêµ¬ ë„¤íŠ¸ì›Œí¬ë€ ì¹œêµ¬ ê´€ê³„ë§Œìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ì‚¬ì´ë¥¼ ë§í•œë‹¤.
>    
>    [<ë¬¸ì œ ì¶œì²˜>](https://www.acmicpc.net/problem/4195)



#### :pushpin: ì…ë ¥ ë° ì¶œë ¥

- ì²«ì§¸ ì¤„ì— í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ê°œìˆ˜ê°€ ì£¼ì–´ì§„ë‹¤. ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì²«ì§¸ ì¤„ì—ëŠ” ì¹œêµ¬ ê´€ê³„ì˜ ìˆ˜ Fê°€ ì£¼ì–´ì§€ë©°, ì´ ê°’ì€ 100,000ì„ ë„˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¤ìŒ Fê°œì˜ ì¤„ì—ëŠ” ì¹œêµ¬ ê´€ê³„ê°€ ìƒê¸´ ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤. ì¹œêµ¬ ê´€ê³„ëŠ” ë‘ ì‚¬ìš©ìì˜ ì•„ì´ë””ë¡œ ì´ë£¨ì–´ì ¸ ìˆìœ¼ë©°, ì•ŒíŒŒë²³ ëŒ€ë¬¸ì ë˜ëŠ” ì†Œë¬¸ìë¡œë§Œ ì´ë£¨ì–´ì§„ ê¸¸ì´ 20 ì´í•˜ì˜ ë¬¸ìì—´ì´ë‹¤.

- ì¹œêµ¬ ê´€ê³„ê°€ ìƒê¸¸ ë•Œë§ˆë‹¤, ë‘ ì‚¬ëŒì˜ ì¹œêµ¬ ë„¤íŠ¸ì›Œí¬ì— ëª‡ ëª…ì´ ìˆëŠ”ì§€ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.


---

> ì˜ˆì‹œ

```
input :
2
3
Fred Barney
Barney Betty
Betty Wilma
3
Fred Barney
Betty Wilma
Barney Betty

output :
2
3
4
2
2
4
```

----




#### ğŸš€point

1. union-findë¥¼ í†µí•´ ì¹œêµ¬ ê°„ì˜ ì—°ê²°ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤
1. ë…¸ë“œ ë²ˆí˜¸ë¼ëŠ” ê°œë…ì´ ì—†ê¸° ë•Œë¬¸ì— ê° ì‚¬ëŒë³„ ê³ ìœ  ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•œë‹¤
1. ëª‡ëª…ê³¼ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ ì–´ë–»ê²Œ ì•Œ ê²ƒì¸ê°€?!
   - íŠ¹íˆ, 1ë²ˆë¶€í„° 4ë²ˆì´ ìˆë‹¤ í–ˆì„ ë•Œ, 1ë²ˆ-2ë²ˆ / 3ë²ˆ - 4ë²ˆ / 2ë²ˆ - 3ë²ˆ ìˆœìœ¼ë¡œ ì—°ê²° ì •ë³´ê°€ ì£¼ì–´ì§„ë‹¤ë©´ ê·¸ ë•ŒëŠ”?
   - => ì—°ê²°ë˜ì–´ ìˆëŠ” ì¹œêµ¬ì˜ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” number ë°°ì—´ì„ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•œë‹¤



#### ğŸ”í’€ì´

1.  find í•¨ìˆ˜ì™€ union í•¨ìˆ˜ë¥¼ ì •ì˜í•œë‹¤.
    1.  ì´ë•Œ, union í•¨ìˆ˜ì—ì„œëŠ” ì—°ê²°ëœ ì¹œêµ¬ì˜ ìˆ˜ë¥¼ ì¶”ê°€í•´ì£¼ëŠ” ë¡œì§ë„ êµ¬í˜„í•œë‹¤.
    1.  í•´ë‹¹ ì¹œêµ¬ê°€ í‘œì‹œí•˜ê³  ìˆë˜ ìˆ˜ë¥¼ í•©í•´ì§€ëŠ” ê¸°ì¤€ì ì´ ë˜ëŠ” ìˆ˜ì— ë”í•´ì¤€ë‹¤.

1.  ë…¸ë“œ (ì¹œêµ¬) ì •ë³´ëŠ” ë²ˆí˜¸ê°€ ì•„ë‹Œ ì´ë¦„ìœ¼ë¡œ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ë²ˆí˜¸ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë„ë¡ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤
    1.  ê° ì¹œêµ¬ì˜ ì¡°ìƒ ë…¸ë“œì™€ ì—°ê²°ë˜ì–´ìˆëŠ” ì¹œêµ¬ ìˆ˜ë¥¼ í‘œì‹œí•  parent, number ë°°ì—´ì„ ìƒì„±í•´ì¤€ë‹¤.
    1.  Nì˜ ìµœëŒ“ê°’ì€ 100,000 ì´ê³ , 2ëª…ì”© ë‚˜íƒ€ë‚´ê¸° ë•Œë¬¸ì— ìµœëŒ“ê°’ì€ 200,000ì´ ëœë‹¤.
    1.  parentëŠ” ìê¸° ìì‹ ìœ¼ë¡œ numberì€ ì´ˆê¸°ì— ì—°ê²°ëœ ì¹œêµ¬ëŠ” ë³¸ì¸ í•œëª…ì´ë¯€ë¡œ 1ë¡œ ì„¤ì •í•´ì¤€ë‹¤.

1.  Në§Œí¼ ìˆœíšŒí•˜ë©´ì„œ, ì…ë ¥ê°’ì„ ë°›ê³  ì…ë ¥ê°’ì— ì†í•œ ë‘ ì¹œêµ¬ê°€ ì•„ì§ ë“±ë¡ì´ ì•ˆë˜ì–´ìˆë‹¤ë©´ person ê°ì²´ì— ë“±ë¡ì„ í•´ì¤˜ì„œ ë…¸ë“œ ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•œë‹¤.
    1.  ë…¸ë“œ ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•œ í›„, ì„œë¡œì˜ ì—°ê²°ì—¬ë¶€ë¥¼ í™•ì¸í•œë‹¤.
    1.  ì—°ê²°ì´ ë˜ì–´ìˆìœ¼ë©´ ë‘˜ ì¤‘ í•œëª…ì´ ëª‡ëª…ê³¼ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ ì¶œë ¥í•œë‹¤.
    1.  ì—°ê²°ì´ ì•ˆë˜ì–´ìˆë‹¤ë©´ ì—°ê²° í•œ í›„, ë” ì‘ì€ ê°’ì„ ë°›ì€ ë‹¤ìŒì— í•´ë‹¹ ê°’ì˜ ì¹œêµ¬ ì—°ê²° ìˆ˜ë¥¼ í™•ì¸í•œë‹¤.




#### ğŸ’»ì½”ë“œ

```python
import sys
input = sys.stdin.readline

def find(x):
    if parent[x] != x:
        parent[x] = find(parent[x])
        return parent[x]
    return x

def union(a,b):
    a = find(a)
    b = find(b)

    if a>b:
        parent[a] = b
        # point!! ì¹œêµ¬ê°€ ëª‡ëª…ì¸ì§€ ê°’ ë¶€ì—¬
        number[b] += number[a]
        return b
    else:
        parent[b] = a
        # point!! ì¹œêµ¬ê°€ ëª‡ëª…ì¸ì§€ ê°’ ë¶€ì—¬
        number[a] += number[b]
        return a

T = int(input())

for _ in range(T):
    N = int(input())
    person = {}
    idx = 0
    
    parent = [0] * 200000
    for i in range(200000):
        parent[i] = i

    number = [1] * 200000

    for _ in range(N):
        a,b = input().split()
        if a not in person.keys():
            person[a] = idx
            idx+=1
        if b not in person.keys():
            person[b] = idx
            idx+=1

        if find(person[a]) != find(person[b]):
            res = union(person[a],person[b])
        else :
            res = find(person[b])
        print(number[res])
```



#### âŒ ë°œìƒ ì˜¤ë¥˜ ë° í•´ê²°

- ëª‡ëª…ì˜ ì¹œêµ¬ì™€ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•  ë°©ë²•ì„ ë– ì˜¬ë¦¬ì§€ ëª»í•´ ë¸”ë¡œê·¸ ì°¸ê³ 

  - ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ì–´ë²„ë¦¼

  

