## 🐌 알고리즘 문제 풀이

### Baekjoon_1541. 잃어버린 괄호

#### 📒문제

> 세준이는 양수와 +, -, 그리고 괄호를 가지고 식을 만들었다. 그리고 나서 세준이는 괄호를 모두 지웠다.
>
> 그리고 나서 세준이는 괄호를 적절히 쳐서 이 식의 값을 최소로 만들려고 한다.
>
> 괄호를 적절히 쳐서 이 식의 값을 최소로 만드는 프로그램을 작성하시오.
>
> [<문제 출처>](https://www.acmicpc.net/problem/1541)

#### :pushpin: 입력 및 출력

- 첫째 줄에 식이 주어진다. 식은 ‘0’~‘9’, ‘+’, 그리고 ‘-’만으로 이루어져 있고, 가장 처음과 마지막 문자는 숫자이다. 그리고 연속해서 두 개 이상의 연산자가 나타나지 않고, 5자리보다 많이 연속되는 숫자는 없다. 수는 0으로 시작할 수 있다. 입력으로 주어지는 식의 길이는 50보다 작거나 같다.
- 첫째 줄에 정답을 출력한다.


---

> 예시

```
input :
55-50+40

output :
-35

input :
10+20+30+40

output :
100

input :
00009-00009

output :
0
```

----




#### 🚀point

1. 그리디로 순간 최적의 선택을 하는 문제
   - 이 문제가 왜 그리디인가?
     - 괄호를 칠 수 있는 모든 경우의 수를 탐색하지 않음
     - 순서대로 앞에서부터 탐색하며 그 자리에 괄호를 치는게 맞는지 아닌지를 판단
     - 최적의 해는 + 기호일 때는 괄호를 치지 않고, - 기호일 때만 괄호를 친다
2. 풀이 방식
   1. `-` 뒤의 값이 가장 최대여야한다
   2. 즉, 최대한 많은 수를 빼도록 해야한다
   3. `-` 가 나온 후 다음 `-`가 나올 때까지를 괄호로 묶어준다
      1. 그러면 `-` 안에는 `+` 만 남게되므로 가장 큰 수를 뺄 수 있다

   4. 나머지 식을 모두 계산한다







#### 🔎풀이

1.  입력값을 받는다
1.  최종 식을 담을 리스트를 생성한다
1.  숫자를 임시로 담아놓을 nums 빈 문자열을 생성한다
1.  괄호를 닫을지 열지 판단할 bracket boolean 변수를 생성한다
    1.  맨 처음 한번만 사용된다
    
1.  입력값을 순회하면서 조건에 따른 동작을 수행한다
    1. 숫자일 경우
       1. 두자릿 수 이상인 수를 한번에 묶기 위해 임시로 만들어놓은 nums에 추가한다
    2. `-` 일 경우
       1. 숫자가 아닌 식이 나왔으므로 지금까지 nums에 쌓인 숫자를 배열에 넣어준다
          1. 이때, 0009와 같은 숫자를 9로 만들어주기 위해 int로 형변환을 해주고, eval 함수를 사용하기 위해 str로 다시 형변환을 해서 넣어준다
          2. nums는 빈 문자열로 만들어준다
       2. 임시 배열에 담아준다
       3. 지금까지 괄호가 없었다면 
          1. `-`를 append해주고 괄호를 열어준다
          2. bracket을 False로 바꿔준다
             1. 다음 `-`가 나오면 이전 `-`가 열어놓은 괄호를 닫을 수 있도록 하기 위함
             2. 즉, bracket이 False면 닫아야하는 괄호가 앞에 있다는 것
             3. True면 괄호를 열기만 해도 된다는 것
       4. 괄호가 있었다면 (bracket 이 False라면)
          1. 괄호를 닫아주고 `-`를 append한다
          2. 다시 괄호를 열어준다
    3. `+`일 경우 
       1. 2-1의 과정을 똑같이 수행한다
       2. 임시 배열에 `+` 기호를 append 한다
1.  만들어놓은 임시배열에 마지막 숫자를 넣어주고, 괄호가 안 닫혀 있는 경우 마지막에 괄호를 닫아준다
1.  임시 배열에 있는 식들을 문자열로 만든 후 eval 함수를 실행한다.
1.  그 결과값을 출력한다



#### 💻코드

```python
formula = input()

# 완성된 식을 모아놓을 빈 배열
tmp = []
#숫자를 모아놓을 빈 문자열
nums = ''
# 몇번째 - 인지 확인하기 위함
bracket = True
for i in formula:
    if i == "-":
        # 식에 지금까지 모아놓은 문자열을 삽입한다
        tmp.append(str(int(nums)))
        nums = ''
        # 만약 첫 -라면 -를 넣어주고, 괄호를 열어준다. 그리고 첫 -가 끝났음을 bracket으로 알려준다
        if bracket:
            tmp.append(i)
            tmp.append("(")
            bracket = not(bracket)
    	# 첫 -가 아니라면
    	else:
            # 괄호를 닫아주고 (이전 -에서 생긴 괄호를 위해)
            tmp.append(")")
            # -와 연괄호를 담아준다
            tmp.append(i)
            tmp.append("(")

    elif i == "+":
        # +도 식이므로 숫자를 넣어준다
        tmp.append(str(int(nums)))
        nums = ''
        tmp.append(i)
    # 숫자인 경우 해당 숫자를 하나의 숫자로 만들기 위해 nums에 추가해준다
    else:
        nums+=i

# 마지막 문자(숫자)와 괄호를 넣어준다        
tmp.append(str(int(nums)))
if bracket == False:
    tmp.append(")")
print(eval(''.join(tmp)))
```



#### ❌ 발생 오류 및 해결

- 
