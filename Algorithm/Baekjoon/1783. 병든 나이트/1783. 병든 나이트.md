## 🐌 알고리즘 문제 풀이

### Baekjoon_1783. 병든 나이트

#### 📒문제

> 병든 나이트가 N × M 크기 체스판의 가장 왼쪽아래 칸에 위치해 있다. 병든 나이트는 건강한 보통 체스의 나이트와 다르게 4가지로만 움직일 수 있다.
>
> 1. 2칸 위로, 1칸 오른쪽
> 2. 1칸 위로, 2칸 오른쪽
> 3. 1칸 아래로, 2칸 오른쪽
> 4. 2칸 아래로, 1칸 오른쪽
>
> 병든 나이트는 여행을 시작하려고 하고, 여행을 하면서 방문한 칸의 수를 최대로 하려고 한다. 병든 나이트의 이동 횟수가 4번보다 적지 않다면, 이동 방법을 모두 한 번씩 사용해야 한다. 이동 횟수가 4번보다 적은 경우(방문한 칸이 5개 미만)에는 이동 방법에 대한 제약이 없다.
>
> 체스판의 크기가 주어졌을 때, 병든 나이트가 여행에서 방문할 수 있는 칸의 최대 개수를 구해보자.
>
> [<문제 출처>](https://www.acmicpc.net/problem/1783)



#### :pushpin: 입력 및 출력

- 첫째 줄에 체스판의 세로 길이 N와 가로 길이 M이 주어진다. N과 M은 2,000,000,000보다 작거나 같은 자연수이다.

- 병든 나이트가 여행에서 방문할 수 있는 칸의 개수중 최댓값을 출력한다.


---

> 예시

```
input :
100 50

output :
48

input :
1 1

output :
1

input :
17 5

output :
4

input :
2 4

output :
2

input :
20 4

output :
4

```

----




#### 🚀point

1. 예외 처리를 얼마나 잘하는지가 중요




#### 🔎풀이

1.  입력값을 모두 받는다
1.  res 값을 구한다
    1.  res는 이동가능한 횟수를 의미

1.  4가지 방법으로 모두 이동 가능한 경우, 4번 이상 이동이 가능함
    1.  but, 4가지 방법으로 이동이 불가한 경우, 4번 미만까지 이동 가능
    1.  따라서, 4가지 방법이 이동 가능한 경우와 그렇지 않은 경우로 조건 처리
    1.  4가지 방법으로 이동하기 위해서는 가로는 최소 7만큼의 길이를, 세로는 최소 3만큼의 길이를 가져야함
        1.  가로 2칸 이동 x2, 가로 1칸 이동 x2
        1.  세로는 2칸 이동할 수 있어야하므로
            1.  왔다갔다 하면 3칸이면 충분

    1.  따라서, 조건의 범위는 [가로충분/세로충분, 가로충분/세로불충분, 가로불충분/세로충분, 가로불충분/세로불충분]의 4가지로 나눌 수 있음
        1.  4가지 중 가로와 세로가 모두 충분한 경우를 제외하면 모두 4가지 방법으로 이동이 불가

    1.  4가지 조건에 아예 이동이 불가능한 경우까지 분기로 나눠주기
        1.  가로가 1칸이거나 세로가 1칸인 경우 이동 불가

1.  가로 불충분/세로 충분
    1.  최대한으로 이동하려면 위아래로 두칸씩 가고, 오른쪽으로는 한칸만 이동해야함
    1.  그러면 최대 M-1만큼 이동 가능함
    1.  but, M-1의 값은 최대 3 까지만 가능
    1.  4부터는 4가지 방법으로 모두 탐색해야하므로

1.  가로 불충분 / 세로 불충분
    1.  세로가 불충분하면 오른쪽으로 두칸씩 이동할 수 밖에 없음
    1.  따라서, (M-1)//2 만큼 이동 가능
    1.  4 이상이 나올 수 없으므로 따로 조건 처리 안해줌

1.  가로 충분 / 세로 충분
    1.  최대 M-3만큼 이동 가능
    1.  최대한으로 이동하기 위해서는 우측으로 1칸씩 이동해야함
    1.  대신, 2칸씩 이동하는 경우도 1번씩 필요 (4방법 모두 사용하기 위해)
    1.  따라서, 최대 M-1에서 가로 두칸씩 이동하는 두번의 경우를 포함해서 -2 추가로 필요

1.  가로 충분 / 세로 불충분
    1.  세로가 불충분하므로 무조건 오른쪽으로 2칸씩만 이동 가능
    1.  but, 가로가 충분히 길기 때문에 4 이상이 나올 수 있음
    1.  최대값이 3임을 지정해주기

1.  res에는 이동 가능한 최대 횟수가 담겨있음
1.  따라서, 출발 위치를 포함해 방문 가능한 위치는 res+1개




#### 💻코드

```python
N,M = map(int,input().split())

# res는 이동가능한 횟수를 의미

# 체스판의 세로나 가로가 1칸 밖에 안되면 아예 이동 불가
if N==1 or M==1:
    res = 0

else:
    # 4방향 탐색 안됨
    if M<=6:
        # 가로 불충분 / 세로 충분
        if N>2:
            res = 3 if M-1>=4 else M-1
        # 가로 불충분 / 세로 불충분
        else:
            res = (M-1)//2

    else:
        # 4방향 탐색 됨
        # 가로 충분 / 세로 충분
        if N>=3:
            res = M-3
        # 가로 충분 / 세로 불충분
        else:
            res = 3 if (M-1)//2>=4 else M//2

print(res+1)
```



#### ❌ 발생 오류 및 해결

- 입력값의 범위를 생각하지 않고 dfs로 풀이
