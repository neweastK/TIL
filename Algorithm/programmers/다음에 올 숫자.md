## 🐌 알고리즘 문제 풀이 _ with. Javascript 

### programmers_lv0. 다음에 올 숫자

#### 📒문제

> 등차수열 혹은 등비수열 `common`이 매개변수로 주어질 때, 마지막 원소 다음으로 올 숫자를 return 하도록 solution 함수를 완성해보세요.
>
> [<문제 출처>](https://school.programmers.co.kr/learn/courses/30/lessons/120924)



#### :pushpin: 제한 사항

- 2 < `common`의 길이 < 1,000

- -1,000 <`common`의 원소 < 2,000
  - `common`의 원소는 모두 정수입니다.
- 등차수열 혹은 등비수열이 아닌 경우는 없습니다.
- 등비수열인 경우 공비는 0이 아닌 정수입니다.



---

> 예시

```
common - result
1. [1, 2, 3, 4] - 5
2. [2, 4, 8] - 16
```

----




#### 🚀point

1. 등차수열과 등비수열을 구현할 수 있는가?



#### 🔎풀이

1.  각 구간별 차이를 저장할 배열(cha_gap)과 비율을 저장할 배열(bi_gap)을 선언
    1.  이때, 비율을 저장할 배열에는 1을 초기값으로 넣어둔다

1.  for문으로 매개변수 common을 두번째 숫자부터 순회하면서 이전 숫자와의 차이, 비율을 계산
    1.  등차를 구하는 식은 a+n*k, 등비를 구하는 식은 a\*k^n 임을 활용한다
    1.  각 숫자별 차이를 구한 후 배열에 넣는다, 비율도 마찬가지
    1.  그 후, 해당 배열 안에 모두 같은 숫자라면 등차수열 혹은 등비수열

1.  모두 삽입한 후에, set으로 바꿔준 후 다시 list로 변경하여 길이를 구한다
    1.  그 길이가 1이라면 모두 같은 비율 혹은 차이라는 뜻이므로 등차 혹은 등비수열이다
    1.  길이가 1이 아니라면 등비가 아니거나 등차가 아닌 것
    1.  둘 중 길이가 1인 배열 하나를 골라낸다
        1.  문제에서는 무조건 등비 아니면 등차라고 했기에

1.  만약 등차수열이라면 마지막 값에 등차를 더해주고, 등비수열이라면 마지막에 등비를 곱해준 후 출력한다



#### 💻코드

```javascript
function solution(common) {
    var answer = 0;
    
    let a = common[0]
    let cha_gap = []
    let bi_gap = [1]

    for (let i=1; i<common.length; i++) {
        let cha = (common[i]-a)/i
        cha_gap.push(cha)

        let bi = (common[i]/a)/bi_gap[i-1]
        bi_gap.push(bi)
    }
    bi_gap.shift()

    let cha_res = [...new Set(cha_gap)]
    let bi_res = [...new Set(bi_gap)]

    if (cha_res.length == 1) {
      answer = common[common.length-1] + cha_res[0]
    } else {
      answer = common[common.length-1] * bi_res[0]
    }
    return answer;
}
```



#### ❌ 발생 오류 및 해결

- 
