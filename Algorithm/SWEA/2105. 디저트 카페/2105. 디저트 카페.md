## ğŸŒ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ì´

### 1953. íƒˆì£¼ë²” ê²€ê±°



#### ğŸ“’ë¬¸ì œ

> íƒˆì£¼ë²”ì´ ìˆì„ ìˆ˜ ìˆëŠ” ìœ„ì¹˜ì˜ ê°œìˆ˜ë¥¼ ê³„ì‚°í•˜ì—¬ì•¼ í•œë‹¤.
>
> íƒˆì£¼ë²”ì€ ì‹œê°„ë‹¹ 1ì˜ ê±°ë¦¬ë¥¼ ì›€ì§ì¼ ìˆ˜ ìˆë‹¤.
>
> ì§€í•˜ í„°ë„ì€ ì´ 7 ì¢…ë¥˜ì˜ í„°ë„ êµ¬ì¡°ë¬¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©° ì²« ì¤„ì— ì´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ê°œìˆ˜ Tê°€ ì£¼ì–´ì§„ë‹¤.
>
> ë‘ ë²ˆì§¸ ì¤„ë¶€í„° Tê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì°¨ë¡€ëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤.
>
> ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì²« ì¤„ì—ëŠ” ì§€í•˜ í„°ë„ ì§€ë„ì˜ ì„¸ë¡œ í¬ê¸° N, ê°€ë¡œ í¬ê¸° M, ë§¨í™€ ëšœê»‘ì´ ìœ„ì¹˜í•œì¥ì†Œì˜ ì„¸ë¡œ ìœ„ì¹˜ R, ê°€ë¡œ ìœ„ì¹˜ C, ê·¸ë¦¬ê³  íƒˆì¶œ í›„ ì†Œìš”ëœ ì‹œê°„ L ì´ ì£¼ì–´ì§„ë‹¤.
>
> ê·¸ ë‹¤ìŒ N ì¤„ì—ëŠ” ì§€í•˜ í„°ë„ ì§€ë„ ì •ë³´ê°€ ì£¼ì–´ì§€ëŠ”ë°, ê° ì¤„ë§ˆë‹¤ M ê°œì˜ ìˆ«ìê°€ ì£¼ì–´ì§„ë‹¤.
>
> ìˆ«ì 1 ~ 7ì€ í•´ë‹¹ ìœ„ì¹˜ì˜ í„°ë„ êµ¬ì¡°ë¬¼ íƒ€ì…ì„ ì˜ë¯¸í•˜ë©° ìˆ«ì 0 ì€ í„°ë„ì´ ì—†ëŠ” ì¥ì†Œë¥¼ ì˜ë¯¸í•œë‹¤.
>
> ì¶œë ¥í•´ì•¼ í•  ì •ë‹µì€ íƒˆì£¼ë²”ì´ ìœ„ì¹˜í•  ìˆ˜ ìˆëŠ” ì¥ì†Œì˜ ê°œìˆ˜ì´ë‹¤.
>
> [<ë¬¸ì œ ì¶œì²˜>][https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV5PpLlKAQ4DFAUq]



---

> ì˜ˆì‹œ

â€‹	ì…ë ¥										ì¶œë ¥

â€‹	5 6 2 2 6   								15
â€‹	3 0 0 0 0 3
â€‹	2 0 0 0 0 6
â€‹	1 3 1 1 3 1
â€‹	2 0 2 0 0 2
â€‹	0 0 4 3 1 1	

----




#### ğŸš€point

1. ì¸ì ‘í•´ìˆë‹¤ê³ í•´ì„œ ë¬´ì¡°ê±´ ì´ë™í•  ìˆ˜ ì—†ë‹¤!
   1. í„°ë„ì˜ ëª¨ì–‘ì— ë”°ë¼ì„œ íƒìƒ‰í•´ì•¼í•˜ëŠ” ë°©í–¥ë„ ì œí•œì´ ëœë‹¤.
   2. ë˜í•œ, ì„œë¡œ ì—°ê²°ì´ ê°€ëŠ¥í•œ êµ¬ì¡°ê°€ ìˆëŠ” ë°˜ë©´ ê·¸ë ‡ì§€ ì•Šì€ êµ¬ì¡°ë“¤ë„ ìˆë‹¤.

2. ì‹œê°„ì´ ì •í•´ì ¸ ìˆë‹¤.

#### ğŸ”í’€ì´

1. BFSë¥¼ í™œìš©í•˜ë˜ ì¤‘ê°„ì¤‘ê°„ ì¡°ê±´ë¬¸ì„ ì ì ˆí•˜ê²Œ ë„£ì–´ì¤˜ì•¼í•œë‹¤.

1. í„°ë„ì„ í™•ì¸í•˜ê¸° ìœ„í•œ ì¡°ê±´ë“¤
   ì¡°ê±´ 1 : ë°©ë¬¸í•˜ì§€ ì•Šì€ ê³³ì¸ê°€?
   ì¡°ê±´ 2 : í„°ë„ ì§€ë„ ë²”ìœ„ ë‚´ì— ìˆëŠ”ê°€?
   ì¡°ê±´ 3 : í„°ë„ì´ ìˆëŠ”ê°€?
   ì¡°ê±´ 4 : í˜„ì¬ì˜ í„°ë„ê³¼ ì—°ê²°ë  ìˆ˜ ìˆëŠ” í„°ë„ì¸ê°€?
   
   


#### ğŸ’»ì½”ë“œ

```python
import sys
sys.stdin = open("input.txt")

# ìƒ í•˜ ì¢Œ ìš°
deltas = [[-1,0],[1,0],[0,-1],[0,1]]

# í„°ë„ì˜ ë°©í–¥ì— ë”°ë¼ ì—°ê²°ë  ìˆ˜ ì—†ëŠ” êµ¬ì¡°ë“¤
cant_connection = {
    "0":[3,4,7],
    "1":[3,5,6],
    "2":[2,6,7],
    "3":[2,4,5]
}

# êµ¬ì¡°ë¬¼ì— ë”°ë¼ íƒìƒ‰í•  ë°©í–¥
search_loc = {
    "1":deltas[:],
    "2":[deltas[0],deltas[1]],
    "3":[deltas[2],deltas[3]],
    "4":[deltas[0],deltas[3]],
    "5":[deltas[1],deltas[3]],
    "6":[deltas[1],deltas[2]],
    "7":[deltas[0],deltas[2]]
}

T = int(input())
for tc in range(T) :
    first = list(map(int, input().split()))
    N = first[0]
    M = first[1]
    hole = first[2], first[3]
    time = first[4]

    arr = [list(map(int, input().split())) for _ in range(N)] # ì§€ë„
    visited = [[0] * M for _ in range(N)] # íƒˆì£¼ë²”ì´ ê°ˆ ìˆ˜ ìˆëŠ” ê³³ì¸ê°€?

    # ë§¨í™€ ìœ„ì¹˜ = ì‹œì‘ì 
    queue = [[hole[0], hole[1]]]
    visited[hole[0]][hole[1]] = 1
    for _ in range(time-1): #ì²« 1ì‹œê°„ì€ ë§¨í™€ì— ë“¤ì–´ê°€ëŠ” ì‹œê°„ì´ë¯€ë¡œ -1
        imsi = []
        while queue: #queueì—ëŠ” ê°ê°ì˜ ì ‘ì ì—ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ê³³ë“¤ì´ ë“¤ì–´ìˆìŒ
            tmp = queue.pop(0)
            x = tmp[0]
            y = tmp[1]
            hole_loc = arr[x][y]
			
            #í•´ë‹¹ í„°ë„ êµ¬ì¡°ì—ì„œ íƒìƒ‰í•  ìˆ˜ ìˆëŠ” ë°©í–¥ë§Œ íƒìƒ‰
            for delta in search_loc[str(hole_loc)]:
                direction = deltas.index(delta) # ë‚˜ì¤‘ì— ì—°ê²° ê°€ëŠ¥í•œ í„°ë„ì¸ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ë°©í–¥(ìƒí•˜ì¢Œìš° ä¸­1)
                nx = x + delta[0]
                ny = y + delta[1]
                if 0 <= nx < N and 0 <= ny < M and arr[nx][ny] and visited[nx][ny] == 0:
                    # ì—°ê²° ì¡°ê±´
                    if arr[nx][ny] in cant_connection[str(direction)]: 
                        #ë§Œì•½ íƒìƒ‰ë°©í–¥ê³¼ ì—°ê²°ë  ìˆ˜ ì—†ëŠ” êµ¬ì¡°ë¼ë©´ íŒ¨ìŠ¤
                        continue
                    visited[nx][ny] = 1
                    imsi.append([nx, ny]) #queueì— ë„£ìœ¼ë©´ ë°˜ë³µë¬¸ì´ ì•ˆë„ë‹ˆê¹Œ ì¼ë‹¨ ëŒ€ê¸°
        #queueê°€ ë¹„ì–´ì§€ë©´ ë‹¤ìŒ ë‹¨ê³„ì˜ ìœ„ì¹˜ë“¤ì„ ì „ë¶€ ì‚½ì…
        queue = imsi[:]

    cnt = 0
    for i in range(N):
        for j in range(M):
            if visited[i][j]:
                cnt += 1
    print(f'#{tc + 1} {cnt}')
```



#### âŒ ë°œìƒ ì˜¤ë¥˜ ë° í•´ê²°

- ì§€ì •í•œ ì‹œê°„ë³´ë‹¤ë„ í›¨ì”¬ ì§§ê²Œ ë°˜ë³µì´ ë˜ëŠ” ê²ƒ ê°™ì€ ê²°ê³¼ê°€ ê²Œì† ë‚˜ì™”ë‹¤.
  - í™•ì¸ ê²°ê³¼, ì¸ì ‘í•œ ë¶€ë¶„ì„ ëª¨ë‘ ë„ëŠ”ê²Œ í•˜ë‚˜ì˜ ìˆœí™˜ì¸ë° í•˜ë‚˜ì˜ ì¸ì ‘í•œ ë¶€ë¶„ì„ ë„ëŠ” ê²ƒì„ í•˜ë‚˜ì˜ ìˆœí™˜ìœ¼ë¡œ ì—¬ê²¨ì„œ ë„ˆë¬´ ì ê²Œ ëŒì•˜ìŒ
  - í•´ê²°ë²• : queueì— ìˆëŠ” ì¸ì ‘ì ë“¤ì„ ëª¨ë‘ ë°©ë¬¸í•  ë•Œë¥¼ í•˜ë‚˜ì˜ ìˆœíšŒ ê³¼ì •ì´ë¼ê³  ì§€ì •í•´ì¤Œ
- íƒˆì£¼ë²”ì´ ë§¨í™€ê¹Œì§€ ê°€ëŠ”ë°ë„ 1ì‹œê°„ì´ ê±¸ë¦¬ê¸° ë•Œë¬¸ì— timeì—ì„œ 1ì„ ë¹¼ì¤˜ì•¼í•˜ëŠ”ë° ê·¸ëŸ¬ì§€ ì•Šì•„ ì˜¤ë¥˜ ë°œìƒ
